<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P2P Exchange - EasyRecharge MM</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="light">
    <header class="header">
        <div class="brand">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNmZjdiMDAiLz4KPHBhdGggZD0iTTE2IDE1SDE3VjI1SDE2VjE1WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTIzIDE1SDI0VjI1SDIzVjE1WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+" alt="EasyRecharge MM Logo" class="logo">
            <h1>EasyRecharge MM</h1>
        </div>
        <button id="modeToggle" class="theme-toggle" aria-label="Toggle dark mode">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path class="sun-icon" d="M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z"/>
                <path class="moon-icon" d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"/>
            </svg>
        </button>
    </header>

    <main class="container">
        <div class="page-header">
            <a href="index.html" class="back-link">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Back to Dashboard
            </a>
            <h2>P2P Exchange</h2>
            <p class="page-subtitle">Exchange between different payment methods</p>
        </div>

        <form id="p2pForm" class="order-form">
            <div class="form-group">
                <label for="userId">User ID</label>
                <input type="text" id="userId" readonly>
            </div>

            <div class="form-group">
                <label for="userPhone">Your Phone Number</label>
                <input type="tel" id="userPhone" placeholder="09XXXXXXXXX">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="fromPayment">From *</label>
                    <select id="fromPayment" required>
                        <option value="">Select From</option>
                        <option value="Wave">Wave Money</option>
                        <option value="KBZPay">KBZPay</option>
                        <option value="AYA">AYA Pay</option>
                        <option value="CBPay">CB Pay</option>
                        <option value="Cash">Cash</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="toPayment">To *</label>
                    <select id="toPayment" required>
                        <option value="">Select To</option>
                        <option value="Wave">Wave Money</option>
                        <option value="KBZPay">KBZPay</option>
                        <option value="AYA">AYA Pay</option>
                        <option value="CBPay">CB Pay</option>
                        <option value="Cash">Cash</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="amount">Amount (MMK) *</label>
                <input type="number" id="amount" placeholder="Enter amount" required min="1000">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="fee">Exchange Fee (MMK)</label>
                    <input type="number" id="fee" readonly>
                </div>
                <div class="form-group">
                    <label for="receive">You Receive (MMK)</label>
                    <input type="number" id="receive" readonly>
                </div>
            </div>

            <div class="form-group">
                <label for="paymentNumber">Payment Number</label>
                <div class="input-with-button">
                    <input type="text" id="paymentNumber" readonly value="09XXXXXXXXX">
                    <button type="button" class="btn-copy" onclick="copyText('paymentNumber')">Copy</button>
                </div>
            </div>

            <div class="form-group">
                <label for="transactionId">Transaction ID *</label>
                <input type="text" id="transactionId" placeholder="Enter your payment transaction ID" required>
            </div>

            <button type="submit" class="btn-primary btn-submit">Submit Exchange</button>
        </form>

        <div class="info-box">
            <h4>Exchange Rates</h4>
            <ul>
                <li>Exchange Fee: 2% of the amount</li>
                <li>Minimum Exchange: 1,000 MMK</li>
                <li>Maximum Exchange: 1,000,000 MMK</li>
                <li>Processing Time: 5-15 minutes</li>
            </ul>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-background"></div>
        <div class="footer-content">
            <div class="footer-links">
                <a href="privacy.html">Privacy</a>
                <a href="faq.html">FAQ</a>
                <a href="services.html">Products</a>
            </div>
            <div class="footer-copyright">
                &copy; <span id="currentYear"></span> EasyRecharge MM. All rights reserved.
            </div>
        </div>
    </footer>

    <div id="toast" class="toast"></div>

    <script src="script.js"></script>
    <script>
        // Calculate exchange when amount changes
        document.getElementById('amount').addEventListener('input', calculateExchange);
        
        function calculateExchange() {
            const amount = parseInt(document.getElementById('amount').value) || 0;
            const fee = Math.round(amount * 0.02); // 2% fee
            const receive = amount - fee;
            
            document.getElementById('fee').value = fee;
            document.getElementById('receive').value = receive;
        }

        // Update payment number based on selected "to" method
        document.getElementById('toPayment').addEventListener('change', function() {
            const paymentNumbers = {
                'Wave': '09 123 456 789',
                'KBZPay': '09 987 654 321', 
                'AYA': '09 555 666 777',
                'CBPay': '09 444 333 222',
                'Cash': 'N/A - Contact Support'
            };
            document.getElementById('paymentNumber').value = paymentNumbers[this.value] || '09XXXXXXXXX';
        });

        // Initialize form
        document.addEventListener('DOMContentLoaded', function() {
            initUser();
            calculateExchange();
        });
    </script>
</body>
</html>
